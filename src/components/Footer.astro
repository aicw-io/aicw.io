---
// Footer component with "Ask AI" section
// Appears on all pages via BaseLayout

const currentYear = new Date().getFullYear();

// current page url
const url = Astro.url.pathname;
// AI prompt for "Ask AI" links
const aiPrompt = encodeURIComponent(
  "As a marketer, SEO professional, or business owner, I want to understand how AI Chat Watch helps track and improve brand visibility across AI chatbots like ChatGPT, Claude, and Perplexity. What are its key features and how does it work? Summarize the highlights from: ${url}"
);

// Google Favicon service helper
const getFavicon = (domain: string, size = 64) =>
  `https://www.google.com/s2/favicons?domain=${domain}&sz=${size}`;

// AI service URLs with query parameters
const aiServices = [
  {
    name: 'ChatGPT',
    url: `https://chat.openai.com/?q=${aiPrompt}`,
    logo: getFavicon('chat.openai.com')
  },
  {
    name: 'Claude',
    url: `https://claude.ai/new?q=${aiPrompt}`,
    logo: getFavicon('claude.ai')
  },
  {
    name: 'Perplexity',
    url: `https://www.perplexity.ai/search/new?q=${aiPrompt}`,
    logo: getFavicon('perplexity.ai')
  },
  {
    name: 'Gemini',
    url: `https://www.google.com/search?udm=50&q=${aiPrompt}`,
    logo: getFavicon('gemini.google.com')
  },
  {
    name: 'Grok',
    url: `https://x.com/i/grok?text=${aiPrompt}`,
    logo: getFavicon('x.com')
  },
];

// Report categories for Brand Mentions section
const reportCategories = [
  { name: 'Accounting', path: '/reports/Accounting/' },
  { name: 'AI Mention Tracking Tools', path: '/reports/AI%20Mention%20Tracking%20Tools/' },
  { name: 'AI Tools', path: '/reports/AI%20Tools/' },
  { name: 'AI Tools for Marketers', path: '/reports/AI%20Tools%20for%20Marketers/' },
  { name: 'Analytics and BI', path: '/reports/Analytics%20and%20BI/' },
  { name: 'Cloud Storage', path: '/reports/Cloud%20Storage/' },
  { name: 'CRM Software', path: '/reports/CRM%20Software/' },
  { name: 'Customer Support', path: '/reports/Customer%20Support/' },
  { name: 'Cybersecurity', path: '/reports/Cybersecurity/' },
  { name: 'Design Tools', path: '/reports/Design%20Tools/' },
  { name: 'Developer Tools', path: '/reports/Developer%20Tools/' },
  { name: 'E-commerce', path: '/reports/E-commerce/' },
  { name: 'Email Marketing', path: '/reports/Email%20Marketing/' },
  { name: 'HR Software', path: '/reports/HR%20Software/' },
  { name: 'Marketing Automation', path: '/reports/Marketing%20Automation/' },
  { name: 'Open Source Projects', path: '/reports/Open%20Sources%20Projects/' },
  { name: 'Project Management', path: '/reports/Project%20Management/' },
  { name: 'Video Conferencing', path: '/reports/Video%20Conferencing/' },
];
---

<footer class="py-12 bg-dark-900 text-white">
  <div class="container mx-auto px-6">

    <!-- ASK_AI_FOOTER_START -->
    <div class="mb-10 pb-8 border-b border-white/10">
      <p class="text-white/80 mb-4 text-sm">Ask AI for a summary of this page</p>
      <div class="flex flex-wrap gap-3">
        {aiServices.map((service) => (
          <a
            href={service.url}
            target="_blank"
            rel="noopener noreferrer"
            title={`Ask ${service.name} about AI Chat Watch`}
            class="w-12 h-12 rounded-xl overflow-hidden bg-white/5 hover:bg-white/10 transition-all hover:scale-105 hover:shadow-lg"
          >
            <img
              src={service.logo}
              alt={service.name}
              class="w-full h-full object-cover"
              loading="lazy"
            />
          </a>
        ))}
      </div>
    </div>
    <!-- ASK_AI_FOOTER_END -->

    <div class="grid md:grid-cols-3 gap-8 mb-8">
      <div>
        <h3 class="text-xl font-bold mb-4">AI Chat Watch</h3>
        <p class="text-white/70">
          Privacy-focused analytics to track your AI traffic and improve your visibility across ChatGPT, Claude, Perplexity, and more.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Product</h3>
        <ul class="space-y-2">
          <li><a href="/#features" class="text-white/70 hover:text-white transition-colors">Features</a></li>
          <li><a href="/#pricing" class="text-white/70 hover:text-white transition-colors">Pricing</a></li>
          <li><a href="/security/" class="text-white/70 hover:text-white transition-colors">Security & Privacy</a></li>
          <li><a href="/blog/" class="text-white/70 hover:text-white transition-colors">Blog</a></li>
          <li><a href="https://app.aichatwatch.com" class="text-white/70 hover:text-white transition-colors">Login</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Resources</h3>
        <ul class="space-y-2">
          <li><a href="https://app.aichatwatch.com/public/aichatwatch.com" target="_blank" rel="noopener" class="text-white/70 hover:text-white transition-colors">Live Demo</a></li>
          <li><a href="/reports/" class="text-white/70 hover:text-white transition-colors">Brand Mentions</a></li>
          <li><a href="https://github.com/aichatwatch/aicw" target="_blank" rel="noopener" class="text-white/70 hover:text-white transition-colors">GitHub</a></li>
        </ul>

        <h4 class="text-lg font-semibold mt-6 mb-3 text-white/80">Guides</h4>
        <ul class="space-y-2">
          <li><a href="/ai-search-engine/" class="text-white/70 hover:text-white transition-colors">AI Search Engines</a></li>
          <li><a href="/ai-chat-bot/" class="text-white/70 hover:text-white transition-colors">AI Chatbots</a></li>
          <li><a href="/ai-crawler-bot/" class="text-white/70 hover:text-white transition-colors">AI Crawler Bots</a></li>
        </ul>
      </div>
    </div>

    <!-- Brand Mentions by AI Section -->
    <div class="mb-8 pt-8 border-t border-white/10">
      <h3 class="text-xl font-bold mb-4">Brand Mentions by AI - Rankings</h3>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3">
        {reportCategories.map((category) => (
          <a
            href={category.path}
            class="group flex items-center justify-between px-4 py-3 bg-white/5 hover:bg-white/15 rounded-lg border border-white/10 hover:border-white/30 transition-all"
          >
            <span class="text-white/70 group-hover:text-white text-sm">{category.name}</span>
            <svg class="w-4 h-4 text-white/30 group-hover:text-white/70 group-hover:translate-x-1 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        ))}
      </div>
    </div>

    <div class="border-t border-white/10 pt-8 text-center text-white/50">
      <p>&copy; {currentYear} AI Chat Watch. Privacy-first AI analytics.</p>
    </div>
  </div>
</footer>
