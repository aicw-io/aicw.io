---
// Footer component with "Ask AI" section
// Appears on all pages via BaseLayout

const currentYear = new Date().getFullYear();

// AI prompt for "Ask AI" links
const aiPrompt = encodeURIComponent(
  "As a marketer, SEO professional, or business owner, I want to understand how AI Chat Watch helps track and improve brand visibility across AI chatbots like ChatGPT, Claude, and Perplexity. What are its key features and how does it work? Summarize the highlights from: https://www.aichatwatch.com"
);

// Google Favicon service helper
const getFavicon = (domain: string, size = 64) =>
  `https://www.google.com/s2/favicons?domain=${domain}&sz=${size}`;

// AI service URLs with query parameters
const aiServices = [
  {
    name: 'ChatGPT',
    url: `https://chat.openai.com/?q=${aiPrompt}`,
    logo: getFavicon('chat.openai.com')
  },
  {
    name: 'Claude',
    url: `https://claude.ai/new?q=${aiPrompt}`,
    logo: getFavicon('claude.ai')
  },
  {
    name: 'Perplexity',
    url: `https://www.perplexity.ai/search/new?q=${aiPrompt}`,
    logo: getFavicon('perplexity.ai')
  },
  {
    name: 'Gemini',
    url: `https://www.google.com/search?udm=50&q=${aiPrompt}`,
    logo: getFavicon('gemini.google.com')
  },
  {
    name: 'Grok',
    url: `https://x.com/i/grok?text=${aiPrompt}`,
    logo: getFavicon('x.com')
  },
];
---

<footer class="py-12 bg-dark-900 text-white">
  <div class="container mx-auto px-6">

    <!-- ASK_AI_FOOTER_START -->
    <div class="mb-10 pb-8 border-b border-white/10">
      <p class="text-white/80 mb-4 text-sm">Ask AI for a summary of AI Chat Watch</p>
      <div class="flex flex-wrap gap-3">
        {aiServices.map((service) => (
          <a
            href={service.url}
            target="_blank"
            rel="noopener noreferrer"
            title={`Ask ${service.name} about AI Chat Watch`}
            class="w-12 h-12 rounded-xl overflow-hidden bg-white/5 hover:bg-white/10 transition-all hover:scale-105 hover:shadow-lg"
          >
            <img
              src={service.logo}
              alt={service.name}
              class="w-full h-full object-cover"
              loading="lazy"
            />
          </a>
        ))}
      </div>
    </div>
    <!-- ASK_AI_FOOTER_END -->

    <div class="grid md:grid-cols-3 gap-8 mb-8">
      <div>
        <h3 class="text-xl font-bold mb-4">AI Chat Watch</h3>
        <p class="text-white/70">
          Privacy-focused analytics to track your AI traffic and improve your visibility across ChatGPT, Claude, Perplexity, and more.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Product</h3>
        <ul class="space-y-2">
          <li><a href="/#features" class="text-white/70 hover:text-white transition-colors">Features</a></li>
          <li><a href="/#pricing" class="text-white/70 hover:text-white transition-colors">Pricing</a></li>
          <li><a href="/security" class="text-white/70 hover:text-white transition-colors">Security & Privacy</a></li>
          <li><a href="/blog" class="text-white/70 hover:text-white transition-colors">Blog</a></li>
          <li><a href="https://app.aichatwatch.com" class="text-white/70 hover:text-white transition-colors">Login</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Open Source</h3>
        <ul class="space-y-2">
          <li><a href="https://github.com/aichatwatch/aicw" target="_blank" rel="noopener" class="text-white/70 hover:text-white transition-colors">GitHub - CLI Tool</a></li>
          <li><a href="https://www.npmjs.com/package/@aichatwatch/aicw" target="_blank" rel="noopener" class="text-white/70 hover:text-white transition-colors">NPM Package</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-white/10 pt-8 text-center text-white/50">
      <p>&copy; {currentYear} AI Chat Watch. Privacy-first AI analytics.</p>
    </div>
  </div>
</footer>
