---
import SEO from '../components/SEO.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

export interface Props {
  title?: string;
  description?: string;
  canonical?: string;
  image?: string;
  imageAlt?: string;
  type?: 'website' | 'article';
  publishedTime?: Date;
  modifiedTime?: Date;
  author?: string;
  tags?: string[];
  // Ayodesk-inspired social metadata overrides
  og_title?: string;
  og_description?: string;
  twitter_title?: string;
  twitter_description?: string;
  // SEO metadata (ayodesk-inspired)
  keywords?: string;
  robots?: string;
}

const {
  title,
  description,
  canonical,
  image,
  imageAlt,
  type,
  publishedTime,
  modifiedTime,
  author,
  tags,
  og_title,
  og_description,
  twitter_title,
  twitter_description,
  keywords,
  robots
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <SEO
      title={title}
      description={description}
      canonical={canonical}
      image={image}
      imageAlt={imageAlt}
      type={type}
      publishedTime={publishedTime}
      modifiedTime={modifiedTime}
      author={author}
      tags={tags}
      og_title={og_title}
      og_description={og_description}
      twitter_title={twitter_title}
      twitter_description={twitter_description}
      keywords={keywords}
      robots={robots}
    />
    <slot name="head" />
  </head>
  <body>
    <slot />

    <Footer />

    <!-- GitHub buttons script -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "AI Chat Watch",
      "alternateName": "AICW",
      "url": "https://www.aichatwatch.com",
      "logo": "https://www.aichatwatch.com/ai-chat-watch-manifest-512x512.png",
      "description": "Free open-source tool to grade AI visibility and monitor what ChatGPT, Claude, Gemini and other AI models say about your brand. Track brand mentions across 20+ AI models.",
      "foundingDate": "2024",
      "sameAs": [
        "https://github.com/aichatwatch/aicw",
        "https://www.npmjs.com/package/@aichatwatch/aicw"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "Support",
        "url": "https://github.com/aichatwatch/aicw/issues"
      }
    })} />

    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "AI Chat Watch",
      "url": "https://www.aichatwatch.com",
      "description": "Grade your AI visibility and monitor what AI says about your brand. Free, open-source tool to track mentions across 20+ AI models including ChatGPT, Claude, and Gemini.",
      "publisher": {
        "@type": "Organization",
        "name": "AI Chat Watch"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.aichatwatch.com/#demos?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    })} />
  </body>
</html>
