!function(){"use strict";var e="https://yuplnveipjjopxuhwtui.supabase.co/functions/v1/view",t="aicw-view";const n=0,r=1,a=2,o=3;var i={LENGTH:36,HYPHEN_POSITIONS:[8,13,18,23],HYPHEN_CODE:45,CHAR_RANGES:[[48,57],[65,70],[97,102]]};function c(){try{if("undefined"!=typeof Intl&&Intl.DateTimeFormat)return Intl.DateTimeFormat().resolvedOptions().timeZone||null}catch(e){}return null}function u(e){var t=function(e){var t={};try{new URL(e).searchParams.forEach(function(e,n){var r=n.toLowerCase();0===r.indexOf("utm_")&&(t[r]=e)})}catch(e){return{}}return t}(window.location.href);const i=document.referrer||null,u=function(e){try{return e.clientWidth>=1024?r:e.clientWidth>=768&&e.clientWidth<1024?o:a}catch(e){return console.error("[AICW] Error reading .clientWidth property"),n}}(document.documentElement);var d={data_key:e,page_host:window.location.hostname,page_path:window.location.pathname,referrer:i,user_agent:navigator.userAgent,device_type:u,timestamp:(new Date).toISOString(),timezone:c()};for(var f in t)t.hasOwnProperty(f)&&(d[f]=t[f]);return d}function d(){var n=function(){for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var r=e[n];if(r.src&&-1!==r.src.indexOf(t)){var a=r.getAttribute("data-key");if(a)return a}}return null}();n?!function(e){if(!e||e.length!==i.LENGTH)return!1;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(-1!==i.HYPHEN_POSITIONS.indexOf(t)){if(n!==i.HYPHEN_CODE)return!1}else{for(var r=!1,a=0;a<i.CHAR_RANGES.length;a++){var o=i.CHAR_RANGES[a];if(n>=o[0]&&n<=o[1]){r=!0;break}}if(!r)return!1}}return!0}(n)?console.error("[AICW] Invalid data key ID format."+n):function(t){var n=JSON.stringify(t);if(void 0!==navigator.sendBeacon)try{var r=new Blob([n],{type:"text/plain"});if(navigator.sendBeacon(e,r))return}catch(e){}if("undefined"==typeof fetch)try{var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-Type","text/plain"),a.send(n)}catch(e){}else fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:n,keepalive:!0,credentials:"omit"}).catch(function(){})}(u(n)):console.warn("[AICW] no value in data-key attribute")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}();